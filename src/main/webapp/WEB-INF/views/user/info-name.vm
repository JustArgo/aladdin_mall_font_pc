<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>昵称</title>
 <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<script src="${link.contextPath}/js/jquery-2.1.3.min.js"></script>
<link rel="stylesheet" href="${link.contextPath}/css/info-index.css" type="text/css" />
</head>
<!-- title-2 文字位置修改 -->
<body>
#parse("./common/header.vm")
<div id="container">
    <div class="header">
        <a href="info-index.html" class="header-back btn">
			<img class="img1" src="${link.contextPath}/images/back_n.png">
			<img class="img2" src="${link.contextPath}/images/back_p.png">
		</a>
        <span>昵称</span>
    </div>
	<div class="info-name">
		<div class="name-input">
			<input type="text" name="nickName" placeholder="昵称长度不得超过20且不能为空字符串">
		</div>
	</div>
	<div class="name-btn">
		<a href="#" id="save">保 存</a>
	</div>
</div>
</body>
<script>
    $(function(){
		$(".btn").click(function(){
			if($(this).find(".img1").is(":visible")){
				$(this).find(".img1").hide();
				$(this).find(".img2").show();
			}else{
				$(this).find(".img1").show();
				$(this).find(".img2").hide();
			}
		});
		$("#save").click(function(){
			$(this).css({"background-color":"#E81959","color":"#fff"});
			setTimeout(function(){
				$("#save").css({"background-color":"#fff","color":"#666"});
			},1000);
			
			if($("input[name=nickName]").val().length>20 || $("input[name=nickName]").val().trim()==''){
				$("input[name=nickName]").val("");
				return;
			}
			location.href="${link.contextPath}/user/update-info-name?nickName="+$("input[name=nickName]").val();
			
		})
	});
</script>
</html>